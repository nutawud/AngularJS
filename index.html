<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
  <meta charset="UTF-8">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->

  <script src="./node_modules/jquery/dist/jquery.min.js"></script>
  <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">

  <title>Document</title>
</head>

<body ng-controller="appCon">
  <!-- เพิ่ม -->
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      เพิ่มข้อมูล
    </button>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- form -->
            <form>
              <div class="form-group">
                <label for="name">ชื่อ</label>
                <input type="text" class="form-control" ng-model="user.name" placeholder="Enter name">
              </div>
              <div class="form-group">
                <label for="address">ที่อยู่</label>
                <input type="text" class="form-control" ng-model="user.address" placeholder="Enter address">
              </div>
              <div class="form-group">
                <label for="telephone">เบอร์โทร</label>
                <input type="text" class="form-control" ng-model="user.telephone" placeholder="Enter telephone">
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
            <button type="button" class="btn btn-primary" ng-click="add_data(user)">บันทึก</button>
          </div>
        </div>
      </div>
    </div>
  <!-- แสดง -->
  <table class="table" ng-init="get_data()">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Address</th>
        <th scope="col">Telephone</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="datas in data">
        <th scope="row">{{datas.id}}</th>
        <td>{{datas.name}}</td>
        <td>{{datas.address}}</td>
        <td>{{datas.telephone}}</td>
        <td>
          <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#ModalEdit" ng-click="update(datas)">แก้ไข</button>
        </td>
        <td>
          <button type="button" class="btn btn-danger" ng-click="delete(datas.id)">ลบ</button>
        </td>
      </tr>

    </tbody>
  </table>
  <div class="modal fade" id="ModalEdit" tabindex="-1" role="dialog" aria-labelledby="ModalEdit" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- form -->
          <form>
            <div class="form-group">
              <label for="name">ชื่อ</label>
              <input type="text" class="form-control" name="name" ng-model="newdata.name" placeholder="Enter name">
            </div>
            <div class="form-group">
              <label for="address">ที่อยู่</label>
              <input type="text" class="form-control" name="address" ng-model="newdata.address" placeholder="Enter address">
            </div>
            <div class="form-group">
              <label for="telephone">เบอร์โทร</label>
              <input type="text" class="form-control" name="telephone" ng-model="newdata.telephone" placeholder="Enter telephone">
            </div>
            <input type="hidden" ng-model="newdata.id" />

          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
          <button type="button" class="btn btn-primary" ng-click="update_data(newdata)">บันทึก</button>
        </div>
      </div>
    </div>
  </div>



  <script src="./node_modules/angular/angular.min.js"></script>
  <script type="text/javascript" src="./controller/index.js"></script>
</body>

</html>